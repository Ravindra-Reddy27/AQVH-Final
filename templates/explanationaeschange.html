<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BB84 Quantum Key Distribution Protocol</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'heading': ['Space Grotesk', 'sans-serif'],
                        'body': ['Inter', 'sans-serif'],
                    },
                    colors: {
                        quantum: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            900: '#0f172a',
                            950: '#020617', // Added ultra dark
                        },
                        neon: {
                            blue: '#00d4ff',
                            cyan: '#0891b2',
                            violet: '#7c3aed',
                        }
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'shimmer': 'shimmer 2s linear infinite',
                        'border-glow': 'borderGlow 3s ease-in-out infinite alternate',
                        'dashMove': 'dashMove 30s linear infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        shimmer: {
                            '0%': { backgroundPosition: '-200% 0' },
                            '100%': { backgroundPosition: '200% 0' },
                        },
                        borderGlow: {
                            '0%': { borderColor: 'rgba(6, 182, 212, 0.3)' },
                            '100%': { borderColor: 'rgba(124, 58, 237, 0.5)' },
                        },
                        dashMove: {
                            '0%': { backgroundPosition: '0 0, 0 100%, 0 0, 100% 0' },
                            '100%': { backgroundPosition: '40px 0, -40px 100%, 0 -40px, 100% 40px' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* Dark Quantum Background */
        body {
            font-family: 'Inter', sans-serif;
            background: #020617; /* Deep black/slate */
            background-image: 
                radial-gradient(circle at 50% 0%, rgba(124, 58, 237, 0.15), transparent 40%),
                radial-gradient(circle at 0% 50%, rgba(6, 182, 212, 0.1), transparent 30%);
            min-height: 100vh;
            color: #e2e8f0; /* Light text */
            line-height: 1.7;
            position: relative;
            overflow-x: hidden;
        }

        /* Subtle Grid Overlay */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
            z-index: 0;
            mask-image: radial-gradient(circle at center, black, transparent 80%);
        }

        /* Floating Quantum Particles */
        .quantum-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(6, 182, 212, 0.6); /* brighter for dark mode */
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(6, 182, 212, 0.8);
            animation: particleFloat 15s infinite;
        }

        .particle:nth-child(2),
        .particle:nth-child(6) { background: rgba(139, 92, 246, 0.6); box-shadow: 0 0 10px rgba(139, 92, 246, 0.8); }
        .particle:nth-child(1) { left: 10%; animation-delay: 0s; animation-duration: 20s; }
        .particle:nth-child(2) { left: 20%; animation-delay: 2s; animation-duration: 18s; }
        .particle:nth-child(3) { left: 35%; animation-delay: 4s; animation-duration: 22s; }
        .particle:nth-child(4) { left: 50%; animation-delay: 1s; animation-duration: 19s; }
        .particle:nth-child(5) { left: 65%; animation-delay: 3s; animation-duration: 21s; }
        .particle:nth-child(6) { left: 80%; animation-delay: 5s; animation-duration: 17s; }
        .particle:nth-child(7) { left: 90%; animation-delay: 2.5s; animation-duration: 23s; }
        .particle:nth-child(8) { left: 5%; animation-delay: 6s; animation-duration: 20s; }

        @keyframes particleFloat {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) scale(1.5); opacity: 0; }
        }

        /* Dark Glassmorphism Panel */
        .quantum-panel {
            background: rgba(15, 23, 42, 0.6); /* Slate 900 semi-transparent */
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.4), 0 1px 2px rgba(0, 0, 0, 0.2);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .quantum-panel:hover {
            transform: translateY(-4px);
            border-color: rgba(6, 182, 212, 0.4);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.5), 0 0 15px rgba(6, 182, 212, 0.15);
        }

        .quantum-panel-glow { position: relative; }
        .quantum-panel-glow::after {
            content: '';
            position: absolute;
            inset: -1px;
            border-radius: 24px;
            padding: 1px;
            background: linear-gradient(135deg, rgba(6, 182, 212, 0.4), rgba(124, 58, 237, 0.4), rgba(6, 182, 212, 0.4));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0.6;
        }

        /* Typography */
        .section-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2.25rem;
            font-weight: 700;
            background: linear-gradient(135deg, #22d3ee 0%, #a78bfa 100%); /* Lighter gradient for dark mode */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
            display: inline-block;
            margin-bottom: 1.5rem;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, #22d3ee, #a78bfa);
            border-radius: 2px;
        }

        .section-subtitle {
            color: #94a3b8; /* Slate 400 */
            font-size: 1.125rem;
            line-height: 1.8;
            margin-bottom: 2rem;
        }

        /* Table Styling - Dark Mode */
        .quantum-table-container {
            background: rgba(30, 41, 59, 0.5); /* Slate 800 transparent */
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            overflow-x: auto;
        }

        .quantum-table {
            width: 100%;
            min-width: 900px;
            border-collapse: separate;
            border-spacing: 0;
            table-layout: fixed; 
        }

        .quantum-table th {
            background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%);
            color: #cbd5e1;
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 700;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            padding: 1.25rem 0.75rem;
            text-align: center;
            border-bottom: 1px solid #334155;
            white-space: nowrap;
        }

        .quantum-table td {
            padding: 1rem 0.5rem;
            text-align: center;
            color: #e2e8f0;
            font-size: 0.9rem;
            border-bottom: 1px solid #1e293b;
            transition: all 0.3s ease;
            vertical-align: middle;
        }

        .quantum-table tr:nth-child(even) { background: rgba(30, 41, 59, 0.3); }
        .quantum-table tr:hover td { background: rgba(56, 189, 248, 0.1); }

        /* Column Widths */
        .col-id { width: 5%; }
        .col-basis { width: 10%; }
        .col-bit { width: 15%; }
        .col-match { width: 10%; }

        /* Matched Row Highlighting */
        .matched-row { position: relative; }
        
        .matched-row td {
            position: relative;
            background: rgba(22, 163, 74, 0.15) !important; /* Dark green tint */
        }
        
        .matched-row td:first-child {
            border-left: 2px dashed rgba(74, 222, 128, 0.3);
            border-top-left-radius: 12px;
            border-bottom-left-radius: 12px;
        }
        
        .matched-row td:last-child {
            border-right: 2px dashed rgba(74, 222, 128, 0.3);
            border-top-right-radius: 12px;
            border-bottom-right-radius: 12px;
        }

        .matched-row td {
            border-top: 2px dashed rgba(74, 222, 128, 0.3);
            border-bottom: 2px dashed rgba(74, 222, 128, 0.3);
            border-bottom-style: dashed !important;
        }

        /* Indicators */
        .basis-rect, .basis-diag {
            display: inline-flex; align-items: center; justify-content: center;
            width: 32px; height: 32px; border-radius: 8px; 
            font-weight: 700; font-size: 1rem; margin: 0 auto;
        }
        .basis-rect { background: rgba(6, 182, 212, 0.2); border: 1px solid rgba(6, 182, 212, 0.5); color: #22d3ee; }
        .basis-diag { background: rgba(124, 58, 237, 0.2); border: 1px solid rgba(124, 58, 237, 0.5); color: #a78bfa; }
        
        .match-success { color: #4ade80; font-weight: 700; font-size: 1.25rem; text-shadow: 0 0 10px rgba(74, 222, 128, 0.3); }
        .match-fail { color: #f87171; font-weight: 700; font-size: 1.25rem; opacity: 0.6; }

        /* Sifted Key */
        .sifted-key-container {
            display: inline-flex; gap: 0.75rem; padding: 1.25rem 2rem;
            background: #0f172a; border: 1px solid #334155;
            border-radius: 16px; margin-top: 1.5rem;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        .sifted-key-bit {
            width: 48px; height: 48px; display: flex; align-items: center; justify-content: center;
            background: #1e293b; border: 2px solid #38bdf8; border-radius: 12px;
            font-family: 'Space Grotesk', sans-serif; font-size: 1.5rem; font-weight: 700;
            color: #38bdf8; box-shadow: 0 0 10px rgba(56, 189, 248, 0.2);
            animation: keyBitGlow 2s ease-in-out infinite alternate;
        }

        @keyframes keyBitGlow {
            0% { box-shadow: 0 0 5px rgba(14, 165, 233, 0.1); border-color: #0ea5e9; }
            100% { box-shadow: 0 0 15px rgba(56, 189, 248, 0.5); border-color: #7dd3fc; }
        }

        /* Steps */
        .protocol-timeline { position: relative; padding-left: 2rem; }
        .protocol-timeline::before {
            content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 2px;
            background: linear-gradient(180deg, #06b6d4, #8b5cf6, #06b6d4);
            border-radius: 2px; opacity: 0.5;
        }
        .timeline-step { position: relative; padding: 1.5rem 0 1.5rem 2rem; }
        .timeline-step::before {
            content: ''; position: absolute; left: -2rem; top: 1.75rem;
            width: 12px; height: 12px; background: #0f172a;
            border: 3px solid #22d3ee; border-radius: 50%;
            transform: translateX(-5px); box-shadow: 0 0 0 4px rgba(34, 211, 238, 0.15);
        }
        .timeline-step-number {
            font-family: 'Space Grotesk', sans-serif; font-size: 0.875rem; font-weight: 700;
            color: #22d3ee; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 0.5rem;
        }
        .timeline-step-title {
            font-family: 'Space Grotesk', sans-serif; font-size: 1.25rem; font-weight: 600;
            color: #f1f5f9; margin-bottom: 0.5rem;
        }
        .timeline-step-content { color: #94a3b8; line-height: 1.7; }

        /* Basis Cards */
        .basis-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem; margin-top: 1.5rem; }
        .basis-card {
            background: #1e293b; border: 1px solid #334155; border-radius: 16px; padding: 1.5rem;
            text-align: center; transition: all 0.3s ease; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
        }
        .basis-card:hover {
            border-color: #38bdf8; transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 0 15px rgba(56, 189, 248, 0.1);
        }
        .basis-card-title {
            font-family: 'Space Grotesk', sans-serif; font-size: 1.125rem; font-weight: 600; margin-bottom: 0.75rem;
        }
        .basis-card-rect { color: #22d3ee; }
        .basis-card-diag { color: #a78bfa; }
        .basis-card-values { font-size: 1.5rem; color: #cbd5e1; font-family: 'Space Grotesk', sans-serif; }

        /* Concept Items */
        .concept-list { list-style: none; padding: 0; margin: 0; }
        .concept-item {
            display: flex; align-items: flex-start; gap: 1rem; padding: 1rem 0;
            border-bottom: 1px solid #334155;
        }
        .concept-item:last-child { border-bottom: none; }
        .concept-icon {
            width: 40px; height: 40px; min-width: 40px; display: flex;
            align-items: center; justify-content: center;
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid #475569; border-radius: 10px; font-size: 1.25rem;
        }
        .concept-title {
            font-family: 'Space Grotesk', sans-serif; font-weight: 600; color: #f1f5f9; margin-bottom: 0.25rem;
        }
        .concept-desc { color: #94a3b8; font-size: 0.95rem; }

        /* AES Flow */
        .aes-flow-container { position: relative; }
        .aes-phase {
            background: #1e293b; border: 1px solid #334155; border-radius: 20px; padding: 2rem;
            position: relative; box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.5);
        }
        .aes-phase-alice { border-left: 4px solid #06b6d4; }
        .aes-phase-bob { border-left: 4px solid #22c55e; }
        .aes-phase-title {
            font-family: 'Space Grotesk', sans-serif; font-size: 1.5rem; font-weight: 700;
            margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.75rem;
        }
        .aes-phase-alice .aes-phase-title { color: #22d3ee; }
        .aes-phase-bob .aes-phase-title { color: #4ade80; }
        .aes-step {
            background: #0f172a; border: 1px solid #334155; border-radius: 14px; padding: 1.25rem; margin-bottom: 1rem;
        }
        .aes-step:last-child { margin-bottom: 0; }
        .aes-step-header {
            display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.75rem;
        }
        .aes-step-title {
            font-family: 'Space Grotesk', sans-serif; font-weight: 600; color: #cbd5e1; font-size: 0.95rem;
        }
        .aes-step-badge {
            font-size: 0.7rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em;
            padding: 0.25rem 0.75rem; border-radius: 20px;
        }
        .aes-step-content { color: #94a3b8; font-size: 0.9rem; line-height: 1.6; }
        .aes-data-block {
            background: #1e293b; border: 1px solid #475569; border-radius: 10px; padding: 1rem;
            margin-top: 0.75rem; font-family: 'Space Grotesk', monospace; font-size: 0.875rem; color: #e2e8f0;
        }
        .aes-network-divider {
            display: flex; align-items: center; gap: 1rem; margin: 2rem 0; color: #64748b;
        }
        .aes-network-divider::before, .aes-network-divider::after {
            content: ''; flex: 1; height: 1px; background: linear-gradient(90deg, transparent, #475569, transparent);
        }
        .aes-network-label {
            font-family: 'Space Grotesk', sans-serif; font-size: 0.8rem; font-weight: 600;
            text-transform: uppercase; letter-spacing: 0.15em; padding: 0.5rem 1rem;
            background: #0f172a; border: 1px solid #334155; border-radius: 20px; color: #94a3b8;
        }

        /* CTA & Animations */
        .quantum-cta {
            position: relative; display: inline-flex; align-items: center; gap: 0.75rem; padding: 1.25rem 3rem;
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.5), rgba(15, 23, 42, 0.5)); 
            border: 1px solid #334155;
            border-radius: 16px; font-family: 'Space Grotesk', sans-serif; font-size: 1.125rem; font-weight: 700;
            color: #22d3ee; text-decoration: none; overflow: hidden; transition: all 0.4s ease;
        }
        .quantum-cta::before {
            content: ''; position: absolute; inset: -1px; border-radius: 16px; padding: 1px;
            background: linear-gradient(135deg, #06b6d4, #8b5cf6, #06b6d4);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor; mask-composite: exclude;
            animation: borderGlow 3s ease-in-out infinite alternate;
        }
        .quantum-cta:hover {
            transform: translateY(-3px); box-shadow: 0 0 20px rgba(6, 182, 212, 0.3); color: #67e8f9; border-color: transparent;
        }
        .quantum-cta-icon { transition: transform 0.3s ease; }
        .quantum-cta:hover .quantum-cta-icon { transform: translateX(4px); }

        .reveal { opacity: 0; transform: translateY(30px); transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1); }
        .reveal.active { opacity: 1; transform: translateY(0); }

        .quantum-header { text-align: center; padding: 4rem 0 3rem; position: relative; }
        .quantum-header-title {
            font-family: 'Space Grotesk', sans-serif; font-size: clamp(2.5rem, 6vw, 4rem); font-weight: 800;
            background: linear-gradient(135deg, #38bdf8 0%, #a78bfa 50%, #38bdf8 100%);
            background-size: 200% auto; -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            background-clip: text; animation: shimmer 4s linear infinite; margin-bottom: 1rem; line-height: 1.2;
            text-shadow: 0 0 20px rgba(56, 189, 248, 0.3);
        }
        .quantum-header-subtitle { color: #94a3b8; font-size: 1.25rem; max-width: 600px; margin: 0 auto; }

        /* Photon Flow */
        .photon-flow {
            display: flex; align-items: center; justify-content: center; gap: 2rem; margin: 2rem 0; flex-wrap: wrap;
        }
        .photon-actor { text-align: center; }
        .photon-actor-icon {
            width: 80px; height: 80px; display: flex; align-items: center; justify-content: center;
            background: #1e293b; border: 2px solid #22d3ee; border-radius: 50%; font-size: 2rem;
            margin: 0 auto 0.75rem; box-shadow: 0 0 15px rgba(34, 211, 238, 0.2);
            color: #f1f5f9;
        }
        .photon-actor-name { font-family: 'Space Grotesk', sans-serif; font-weight: 600; color: #e2e8f0; }
        .photon-arrow {
            display: flex; align-items: center; gap: 0.5rem; color: #22d3ee; font-size: 1.5rem;
        }
        .photon-particle {
            width: 12px; height: 12px; background: #22d3ee; border-radius: 50%;
            box-shadow: 0 0 10px rgba(34, 211, 238, 0.8); animation: photonMove 1.5s ease-in-out infinite;
        }
        @keyframes photonMove {
            0%, 100% { transform: translateX(-10px); opacity: 0; }
            50% { transform: translateX(10px); opacity: 1; }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .section-title { font-size: 1.75rem; }
            .basis-grid { grid-template-columns: 1fr; }
            .quantum-table-container { overflow-x: auto; }
            .protocol-timeline { padding-left: 1.5rem; }
            .timeline-step { padding-left: 1rem; }
            .sifted-key-container { flex-wrap: wrap; justify-content: center; }
            .photon-flow { flex-direction: column; gap: 1rem; }
            .photon-arrow { transform: rotate(90deg); }
        }

        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }
    </style>
</head>

<body>
    <div class="quantum-particles">
        <div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div>
        <div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div>
    </div>

    <div class="relative z-10 max-w-6xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
        <header class="quantum-header reveal">
            <h1 class="quantum-header-title">BB84 Quantum Key Distribution Protocol</h1>
            <p class="quantum-header-subtitle">A step-by-step guide to understanding quantum cryptography's fundamental protocol</p>
        </header>

        <section class="quantum-panel quantum-panel-glow p-8 mb-10 reveal">
            <h2 class="section-title">What is BB84?</h2>
            <div class="prose max-w-none">
                <p class="text-slate-300 mb-6 text-lg leading-relaxed">
                    The BB84 protocol, developed by Bennett and Brassard in 1984, enables two parties (Alice and Bob) to generate a shared secret key using quantum properties of photons.
                </p>
                <h3 class="text-xl font-semibold mb-4 text-cyan-400 font-heading">Key Concepts:</h3>
                <ul class="concept-list">
                    <li class="concept-item">
                        <div class="concept-icon">‚öõÔ∏è</div>
                        <div><div class="concept-title">Quantum States</div><div class="concept-desc">Information encoded in photon polarization.</div></div>
                    </li>
                    <li class="concept-item">
                        <div class="concept-icon">üìê</div>
                        <div><div class="concept-title">Two Bases</div><div class="concept-desc">Rectilinear (+) and Diagonal (√ó) measurement bases.</div></div>
                    </li>
                    <li class="concept-item">
                        <div class="concept-icon">üîí</div>
                        <div><div class="concept-title">No-Cloning</div><div class="concept-desc">Quantum states cannot be perfectly copied.</div></div>
                    </li>
                </ul>
            </div>
        </section>

        <section class="quantum-panel quantum-panel-glow p-8 mb-10 reveal">
            <h2 class="section-title">Protocol Steps</h2>
            <div class="photon-flow">
                <div class="photon-actor">
                    <div class="photon-actor-icon">üë©</div>
                    <div class="photon-actor-name">Alice</div>
                </div>
                <div class="photon-arrow"><span>‚Äî</span><div class="photon-particle"></div><span>‚Üí</span></div>
                <div class="photon-actor">
                    <div class="photon-actor-icon" style="border-color: rgba(34, 197, 94, 0.5); box-shadow: 0 0 15px rgba(34, 197, 94, 0.2);">üë®</div>
                    <div class="photon-actor-name">Bob</div>
                </div>
            </div>

            <div class="protocol-timeline">
                <div class="timeline-step">
                    <div class="timeline-step-number">Step 01</div>
                    <div class="timeline-step-title">Quantum Transmission</div>
                    <div class="timeline-step-content">
                        <p class="mb-4">Alice sends qubits to Bob, randomly choosing between:</p>
                        <div class="basis-grid">
                            <div class="basis-card">
                                <div class="basis-card-title basis-card-rect">Rectilinear Basis (+)</div>
                                <div class="basis-card-values">‚Üë = 0, ‚Üí = 1</div>
                            </div>
                            <div class="basis-card">
                                <div class="basis-card-title basis-card-diag">Diagonal Basis (√ó)</div>
                                <div class="basis-card-values">‚Üó = 0, ‚Üñ = 1</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="timeline-step">
                    <div class="timeline-step-number">Step 02</div>
                    <div class="timeline-step-title">Measurement</div>
                    <div class="timeline-step-content">Bob measures each qubit, randomly choosing either basis (+) or (√ó).</div>
                </div>
                <div class="timeline-step">
                    <div class="timeline-step-number">Step 03</div>
                    <div class="timeline-step-title">Basis Reconciliation</div>
                    <div class="timeline-step-content">Alice and Bob publicly share which bases they used (but not the bits).</div>
                </div>
                <div class="timeline-step">
                    <div class="timeline-step-number">Step 04</div>
                    <div class="timeline-step-title">Key Sifting</div>
                    <div class="timeline-step-content">They keep only the bits where they used the same basis.</div>
                </div>
            </div>
        </section>

        <section class="quantum-panel quantum-panel-glow p-8 mb-10 reveal">
            <h2 class="section-title">Alice ‚Üí Bob</h2>
            <p class="section-subtitle">Standard exchange. Only matching bases yield a valid key bit.</p>

            <div class="quantum-table-container mb-8">
                <table class="quantum-table">
                    <colgroup>
                        <col class="col-id">
                        <col class="col-bit">
                        <col class="col-basis">
                        <col class="col-basis">
                        <col class="col-bit">
                        <col class="col-match">
                    </colgroup>
                    <thead>
                        <tr>
                            <th>QuBit</th>
                            <th class="text-cyan-400">Alice's Bit</th>
                            <th class="text-cyan-400">Alice's Basis</th>
                            <th class="text-green-400">Bob's Basis</th>
                            <th class="text-green-400">Bob's Bit</th>
                            <th>Basis Match?</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="matched-row">
                            <td><span class="font-heading font-bold text-cyan-400">1</span></td>
                            <td>0 [‚Üë]</td>
                            <td><span class="basis-rect">+</span></td>
                            <td><span class="basis-rect">+</span></td>
                            <td>0 [‚Üë]</td>
                            <td><span class="match-success">‚úì</span></td>
                        </tr>
                        <tr class="matched-row">
                            <td><span class="font-heading font-bold text-cyan-400">2</span></td>
                            <td>1 [‚Üñ]</td>
                            <td><span class="basis-diag">√ó</span></td>
                            <td><span class="basis-diag">√ó</span></td>
                            <td>1 [‚Üñ]</td>
                            <td><span class="match-success">‚úì</span></td>
                        </tr>
                        <tr>
                            <td><span class="font-heading font-bold text-cyan-400">3</span></td>
                            <td>0 [‚Üë]</td>
                            <td><span class="basis-rect">+</span></td>
                            <td><span class="basis-diag">√ó</span></td>
                            <td>0,1 - 1 [‚Üí]</td>
                            <td><span class="match-fail">‚úó</span></td>
                        </tr>
                        <tr class="matched-row">
                            <td><span class="font-heading font-bold text-cyan-400">4</span></td>
                            <td>1 [‚Üñ]</td>
                            <td><span class="basis-diag">√ó</span></td>
                            <td><span class="basis-diag">√ó</span></td>
                            <td>1 [‚Üñ]</td>
                            <td><span class="match-success">‚úì</span></td>
                        </tr>
                        <tr class="matched-row">
                            <td><span class="font-heading font-bold text-cyan-400">5</span></td>
                            <td>1 [‚Üñ]</td>
                            <td><span class="basis-diag">√ó</span></td>
                            <td><span class="basis-diag">√ó</span></td>
                            <td>1 [‚Üñ]</td>
                            <td><span class="match-success">‚úì</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="text-center">
                <p class="text-slate-400 mb-4 font-heading text-lg">Sifted Key (only matched bases):</p>
                <div class="sifted-key-container">
                    <div class="sifted-key-bit">0</div>
                    <div class="sifted-key-bit">1</div>
                    <div class="sifted-key-bit">1</div>
                    <div class="sifted-key-bit">1</div>
                </div>
            </div>
        </section>

        <section class="quantum-panel quantum-panel-glow p-8 mb-10 reveal">
            <h2 class="section-title">Alice ‚Üí Eve ‚Üí Bob</h2>
            <p class="section-subtitle">Eve intercepts. Notice how her presence creates errors even when Alice and Bob's bases match.</p>

            <div class="quantum-table-container mb-8">
                <table class="quantum-table">
                    <colgroup>
                        <col class="col-id">
                        <col class="col-bit">
                        <col class="col-basis">
                        <col class="col-basis">
                        <col class="col-bit">
                        <col class="col-basis">
                        <col class="col-bit">
                        <col class="col-match">
                    </colgroup>
                    <thead>
                        <tr>
                            <th>QuBit</th>
                            <th class="text-cyan-400">Alice's Bit</th>
                            <th class="text-cyan-400">Alice's Basis</th>
                            <th class="text-purple-400">Eve's Basis</th>
                            <th class="text-purple-400">Eve's Bit</th>
                            <th class="text-green-400">Bob's Basis</th>
                            <th class="text-green-400">Bob's Bit</th>
                            <th>Basis Match?</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="matched-row">
                            <td><span class="font-heading font-bold text-cyan-400">1</span></td>
                            <td>0 [‚Üë]</td>
                            <td><span class="basis-rect">+</span></td>
                            <td><span class="basis-rect">+</span></td> <td>0 [‚Üë]</td> <td><span class="basis-rect">+</span></td> <td>0 [‚Üë]</td> <td><span class="match-success">‚úì</span></td>
                        </tr>
                        
                        <tr>
                            <td><span class="font-heading font-bold text-cyan-400">2</span></td>
                            <td>1 [‚Üñ]</td>
                            <td><span class="basis-diag">√ó</span></td>
                            <td><span class="basis-diag">√ó</span></td> <td>1 [‚Üñ]</td>
                            <td><span class="basis-rect">+</span></td> <td>0,1 - 0 [‚Üë]</td>
                            <td><span class="match-fail">‚úó</span></td>
                        </tr>
                        
                        <tr>
                            <td><span class="font-heading font-bold text-cyan-400">3</span></td>
                            <td>0 [‚Üë]</td>
                            <td><span class="basis-rect">+</span></td>
                            <td><span class="basis-rect">+</span></td> <td>0 [‚Üë]</td>
                            <td><span class="basis-diag">√ó</span></td> <td>0,1 - 0 [‚Üó]</td>
                            <td><span class="match-fail">‚úó</span></td>
                        </tr>

                        <tr class="matched-row">
                            <td><span class="font-heading font-bold text-cyan-400">4</span></td>
                            <td>1 [‚Üí]</td>
                            <td><span class="basis-rect">+</span></td>
                            <td><span class="basis-rect">+</span></td>
                            <td>1 [‚Üí]</td>
                            <td><span class="basis-rect">+</span></td>
                            <td>1 [‚Üí]</td>
                            <td><span class="match-success">‚úì</span></td>
                        </tr>

                        <tr class="matched-row">
                            <td><span class="font-heading font-bold text-cyan-400">5</span></td>
                            <td>0 [‚Üë]</td>
                            <td><span class="basis-rect">+</span></td>
                            <td><span class="basis-diag">√ó</span></td> <td>	0,1 - 1 [‚Üñ]</td> <td><span class="basis-rect">+</span></td> <td>0,1 - 1 [‚Üí]	</td> <td><span class="match-success">‚úì</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="text-center">
                <p class="text-slate-400 mb-6 font-heading text-lg">Sifted Key Results Comparison:</p>
                <div class="flex flex-col sm:flex-row items-center justify-center gap-8 mb-6">
                    <div>
                        <p class="text-cyan-400 font-heading font-semibold mb-3">Alice's Key</p>
                        <div class="sifted-key-container">
                            <div class="sifted-key-bit">0</div>
                            <div class="sifted-key-bit">1</div>
                            <div class="sifted-key-bit">0</div>
                        </div>
                    </div>
                    <div class="text-slate-500 text-2xl">‚â†</div>
                    <div>
                        <p class="text-green-400 font-heading font-semibold mb-3">Bob's Key</p>
                        <div class="sifted-key-container" style="border-color: rgba(34, 197, 94, 0.3); background: rgba(22, 163, 74, 0.1);">
                            <div class="sifted-key-bit" style="border-color: rgba(34, 197, 94, 0.4); color: #4ade80; background: #1e293b;">0</div>
                            <div class="sifted-key-bit" style="border-color: rgba(34, 197, 94, 0.4); color: #4ade80; background: #1e293b;">1</div>
                            <div class="sifted-key-bit" style="border-color: rgba(34, 197, 94, 0.4); color: #4ade80; background: #1e293b;">1</div>
                        </div>
                    </div>
                </div>
                <div class="inline-flex items-center gap-2 px-6 py-3 bg-red-900/20 border border-red-900/40 rounded-xl">
                    <span class="text-red-500 text-xl">‚ö†Ô∏è</span>
                    <span class="text-red-400 font-heading font-semibold">Error Detected! Eve's presence revealed.</span>
                </div>
            </div>
        </section>

        <section class="quantum-panel quantum-panel-glow p-8 mb-10 reveal">
            <h2 class="section-title">AES-256-CBC Secure Flow</h2>
            <div class="aes-flow-container max-w-3xl mx-auto">
                <div class="aes-phase aes-phase-alice">
                    <div class="aes-phase-title"><span>üë©</span><span>AES Encryption (Alice)</span></div>
                    <div class="aes-step">
                        <div class="aes-step-header"><span class="aes-step-title">Step 1: Pad Message</span><span class="aes-step-badge" style="background: rgba(6, 182, 212, 0.2); color: #22d3ee;">PKCS7</span></div>
                        <div class="aes-step-content">AES requires blocks of 128 bits. We add padding to fit.</div>
                        <div class="aes-data-block">"Launch confirmed..."<span class="text-cyan-400 font-bold">[PAD][PAD]</span></div>
                    </div>
                    <div class="aes-step">
                        <div class="aes-step-header"><span class="aes-step-title">Step 2: Security Setup</span><span class="aes-step-badge" style="background: rgba(124, 58, 237, 0.2); color: #a78bfa;">Randomness</span></div>
                        <div class="aes-step-content">
                            <div class="flex flex-col gap-3 mt-3">
                                <div class="flex justify-between items-center bg-slate-800 border border-slate-700 p-3 rounded-lg">
                                    <span class="text-slate-400">üîë Shared Key</span><span class="font-heading text-sm text-slate-300">Generated from BB84</span>
                                </div>
                                <div class="flex justify-between items-center bg-purple-900/20 p-3 rounded-lg border border-purple-900/40">
                                    <span class="text-purple-400 font-medium">üé≤ Generate IV</span><span class="font-heading text-sm text-purple-400">16 Random Bytes</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="aes-step">
                        <div class="aes-step-header"><span class="aes-step-title">Step 3: Encrypt & Package</span><span class="aes-step-badge" style="background: rgba(34, 197, 94, 0.2); color: #4ade80;">Base64</span></div>
                        <div class="aes-step-content">We attach the IV to the front so Bob can read it.</div>
                        <div class="mt-4">
                            <div class="flex h-10 rounded-lg overflow-hidden font-heading text-sm shadow-sm">
                                <div class="w-1/4 bg-amber-600/80 flex items-center justify-center text-white font-bold">IV</div>
                                <div class="w-3/4 bg-cyan-700/80 flex items-center justify-center text-white font-bold">Ciphertext</div>
                            </div>
                            <p class="text-center text-slate-500 text-sm mt-3">Result encoded to Base64 string</p>
                        </div>
                    </div>
                </div>

                <div class="aes-network-divider"><span class="aes-network-label">Network (Public)</span></div>

                <div class="aes-phase aes-phase-bob">
                    <div class="aes-phase-title"><span>üë®</span><span>AES Decryption (Bob)</span></div>
                    <div class="aes-step">
                        <div class="aes-step-header"><span class="aes-step-title">Step 1: Decode & Split</span></div>
                        <div class="aes-step-content">Bob receives the string and splits the first 16 bytes.</div>
                        <div class="flex gap-3 mt-4">
                            <div class="flex-1 bg-amber-900/20 border border-amber-900/40 p-4 rounded-lg text-center">
                                <div class="font-heading font-bold text-amber-500">IV</div><div class="text-amber-500/70 text-xs mt-1">First 16 Bytes</div>
                            </div>
                            <div class="flex-[3] bg-cyan-900/20 border border-cyan-900/40 p-4 rounded-lg text-center">
                                <div class="font-heading font-bold text-cyan-500">Ciphertext</div><div class="text-cyan-500/70 text-xs mt-1">Rest of Data</div>
                            </div>
                        </div>
                    </div>
                    <div class="aes-step">
                        <div class="aes-step-header"><span class="aes-step-title">Step 2: Decrypt & Unpad</span></div>
                        <div class="aes-step-content">
                            <ol class="list-decimal list-inside space-y-1 text-slate-400">
                                <li>AES Decrypt using <strong class="text-slate-300">Key</strong> + extracted <strong class="text-slate-300">IV</strong></li>
                                <li>Remove the padding bytes</li>
                            </ol>
                        </div>
                        <div class="aes-data-block bg-green-900/20 border border-green-900/40 text-green-400 mt-4">"Launch confirmed. Target coordinates..."</div>
                    </div>
                    <div class="flex items-center justify-center gap-2 mt-6 px-6 py-4 bg-green-900/20 border border-green-900/40 rounded-xl">
                        <span class="text-green-500 text-xl">‚úì</span><span class="text-green-400 font-heading font-bold">Secure Message Verified</span>
                    </div>
                </div>
            </div>
        </section>

        <div class="text-center py-12 reveal">
            <a href="index.html" target="_blank" class="quantum-cta">
                <span>Try BB84 Simulator</span>
                <svg class="quantum-cta-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
            </a>
        </div>
    </div>

    <script>
        const observerOptions = { root: null, rootMargin: '0px', threshold: 0.1 };
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) { entry.target.classList.add('active'); }
            });
        }, observerOptions);
        document.querySelectorAll('.reveal').forEach(el => { observer.observe(el); });
        document.querySelectorAll('.reveal').forEach((el, index) => { el.style.transitionDelay = `${index * 0.1}s`; });
    </script>
</body>
</html>